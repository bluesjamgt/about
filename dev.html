<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Blu J | Dev Projects</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Noto+Serif+TC:wght@400;700&display=swap" rel="stylesheet">

  <script src="lang.js"></script>

  <style>
    body { font-family: 'Inter', sans-serif; }
    h1, h2, h3, .serif { font-family: 'Noto Serif TC', serif; }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>

<body class="bg-stone-50 text-gray-800 antialiased overflow-x-hidden pb-20">

  <div id="navbar" class="sticky top-0 z-40"></div>

  <div class="fixed top-24 right-4 z-50 flex flex-col gap-2 bg-white/80 backdrop-blur p-2 rounded-lg shadow-sm text-xs border border-gray-100">
    <button id="btn-en" onclick="setLang('en')" class="lang-btn hover:text-indigo-600 transition">EN</button>
    <button id="btn-tw" onclick="setLang('tw')" class="lang-btn hover:text-indigo-600 transition">TW</button>
    <button id="btn-jp" onclick="setLang('jp')" class="lang-btn hover:text-indigo-600 transition">JP</button>
  </div>

  <main class="max-w-4xl mx-auto px-4 py-10 space-y-10">

    <div class="bg-white rounded-xl shadow p-6 space-y-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 flex items-center justify-center bg-red-50 rounded-xl shrink-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-7 text-red-600"><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"/><path d="m10 15 5-3-5-3z"/></svg>
          </div>
          <h2 class="font-bold text-lg" data-i18n="dev_p1_title">yt-dlp-gui</h2>
        </div>
        <a href="https://github.com/bluesjamgt/yt-dlp-gui" target="_blank" class="px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 text-sm flex items-center gap-2 shrink-0">
           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
             <path d="M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.355a.75.75 0 10-1.09 1.03l3.25 3.5a.75.75 0 001.09 0l3.25-3.5a.75.75 0 00-1.09-1.03l-2.955 3.009V2.75z" />
             <path d="M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z" />
           </svg>
           <span data-i18n="btn_github">GitHub</span>
        </a>
      </div>
      <p class="text-gray-600" data-i18n="dev_p1_desc1">A modern, cross-platform GUI wrapper for the powerful yt-dlp tool.</p>
      <p class="text-gray-600" data-i18n="dev_p1_desc2">Download videos effortlessly with a clean, user-friendly interface.</p>
      <hr class="my-4">
      <div class="relative w-full aspect-video rounded-lg shadow overflow-hidden bg-gray-100">
        <img src="img/dev/ytdlp-1.jpg" alt="yt-dlp-gui screenshot" class="absolute inset-0 w-full h-full object-contain">
      </div>
    </div>

    <div class="bg-white rounded-xl shadow p-6 space-y-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 flex items-center justify-center bg-blue-50 rounded-xl shrink-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-7 text-blue-600"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/><path d="m9 13 2 2 4-4"/></svg>
          </div>
          <h2 class="font-bold text-lg" data-i18n="dev_p2_title">FileProsApp</h2>
        </div>
        <a href="https://github.com/bluesjamgt/FileProsApp" target="_blank" class="px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 text-sm flex items-center gap-2 shrink-0">
           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4">
             <path d="M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.355a.75.75 0 10-1.09 1.03l3.25 3.5a.75.75 0 001.09 0l3.25-3.5a.75.75 0 00-1.09-1.03l-2.955 3.009V2.75z" />
             <path d="M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z" />
           </svg>
           <span data-i18n="btn_github">GitHub</span>
        </a>
      </div>
      <p class="text-gray-600" data-i18n="dev_p2_desc1">Automated file organization tool based on Python.</p>
      <p class="text-gray-600" data-i18n="dev_p2_desc2">Intelligently sort chaos into order with one click.</p>
      <hr class="my-4">
      <div class="relative w-full aspect-video rounded-lg shadow overflow-hidden bg-gray-100">
          <img src="img/dev/fileproapp-1.jpg" alt="screenshot" class="absolute inset-0 w-full h-full object-cover">
      </div>
    </div>

    <div class="bg-white rounded-xl shadow p-6 space-y-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 flex items-center justify-center bg-green-50 rounded-xl shrink-0">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-7 text-green-600"><path d="M12 6V2H8"/><path d="m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z"/><path d="M2 12h2"/><path d="M9 11v2"/><path d="M15 11v2"/><path d="M20 12h2"/></svg>
          </div>
          <h2 class="font-bold text-lg" data-i18n="dev_p3_title">ChatBot Base in Dify</h2>
        </div>
        <button onclick="toggleChat()" class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm flex items-center gap-2 shrink-0 cursor-pointer transition">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>
            <span data-i18n="btn_chat">Let's Chat</span>
        </button>
      </div>
      <p class="text-gray-600" data-i18n="dev_p3_desc1">RAG Precision Data Integration.</p>
      <p class="text-gray-600" data-i18n="dev_p3_desc2">Intelligent Chat Agent designed for smart interactions.</p>
      <hr class="my-4">
      <div class="relative w-full aspect-video rounded-lg shadow overflow-hidden bg-gray-100">
         <img src="img/dev/difyagent-1.jpg" alt="screenshot" class="absolute inset-0 w-full h-full object-cover">
      </div>
    </div>

    <div class="bg-white rounded-xl shadow p-6 space-y-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 flex items-center justify-center bg-indigo-50 rounded-xl shrink-0">
               <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-7 text-indigo-600"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><path d="m9 16 3-3 3 3"/></svg>
            </div>
            <h2 class="font-bold text-lg" data-i18n="dev_p4_title">Brand Page Design</h2>
          </div>
          <a href="https://gunpowdermetal.com/" target="_blank" class="px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-700 text-sm flex items-center gap-2 shrink-0">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
              <span data-i18n="btn_view">View</span>
          </a>
        </div>
        <p class="text-gray-600" data-i18n="dev_p4_desc1">Modern aesthetic UI/UX implementation.</p>
        <p class="text-gray-600" data-i18n="dev_p4_desc2">Responsive design for GunPowder & Personal Branding.</p>
        <hr class="my-4">
        <div class="relative w-full aspect-video rounded-lg shadow overflow-hidden bg-gray-100">
            <img src="./img/dev/BrandView-1.jpg" alt="screenshot" class="absolute inset-0 w-full h-full object-cover">
        </div>
      </div>

  </main>

  <footer class="border-t border-gray-200 text-center py-6 text-sm text-gray-500" data-i18n="footer_copy">
    © 2025 Blu J
  </footer>

  <div id="dify-chat-container" class="fixed bottom-4 right-4 z-50 hidden transition-all duration-300 transform scale-95 opacity-0 origin-bottom-right">
    
    <div id="chat-box" class="relative bg-white w-[90vw] md:w-[400px] h-[500px] md:h-[600px] rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden min-w-[320px] min-h-[450px] max-w-[95vw] max-h-[90vh]">
      
      <div id="resize-handle" class="absolute top-0 left-0 w-6 h-6 z-50 cursor-nw-resize flex items-center justify-center group">
        <div class="w-full h-full rounded-tl-xl bg-transparent group-hover:bg-gray-300/50 transition-colors"></div>
        <div class="absolute top-1 left-1 border-t-2 border-l-2 border-gray-300 w-3 h-3 rounded-tl-lg pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity"></div>
      </div>

      <div class="bg-gray-50 border-b border-gray-100 p-3 pl-8 flex justify-between items-center shrink-0 cursor-move select-none">
        <span class="text-sm font-bold text-gray-700 flex items-center gap-2">
          <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
          ChatBot
        </span>
        <button onclick="toggleChat()" class="text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-full p-1 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>

      <iframe id="chat-iframe" src="https://agent.runnersblue.com/chat/l4efmNDn5OXKCooP" class="w-full h-full border-none bg-gray-50"></iframe>
    </div>
  </div>

  <script>
    // 1. 聊天室開關
    function toggleChat() {
      const chatContainer = document.getElementById('dify-chat-container');
      
      if (chatContainer.classList.contains('hidden')) {
        chatContainer.classList.remove('hidden');
        setTimeout(() => {
          chatContainer.classList.remove('scale-95', 'opacity-0');
          chatContainer.classList.add('scale-100', 'opacity-100');
        }, 10);
      } else {
        chatContainer.classList.remove('scale-100', 'opacity-100');
        chatContainer.classList.add('scale-95', 'opacity-0');
        setTimeout(() => {
          chatContainer.classList.add('hidden');
        }, 300);
      }
    }

    // 2. 左上角拉伸邏輯 (Resizer)
    document.addEventListener('DOMContentLoaded', () => {
      const handle = document.getElementById('resize-handle');
      const box = document.getElementById('chat-box');
      const iframe = document.getElementById('chat-iframe');
      let isResizing = false;
      let startX, startY, startWidth, startHeight;

      if (!handle || !box) return;

      handle.addEventListener('mousedown', (e) => {
        isResizing = true;
        // 記錄起始點
        startX = e.clientX;
        startY = e.clientY;
        startWidth = parseInt(document.defaultView.getComputedStyle(box).width, 10);
        startHeight = parseInt(document.defaultView.getComputedStyle(box).height, 10);

        // 鎖定 iframe 與文字選取，避免拖曳卡頓
        iframe.style.pointerEvents = 'none';
        document.body.style.userSelect = 'none';
      });

      document.addEventListener('mousemove', (e) => {
        if (!isResizing) return;

        // 計算變化量：往左移(X減小) = 寬度增加 / 往上移(Y減小) = 高度增加
        const dx = startX - e.clientX; 
        const dy = startY - e.clientY;

        box.style.width = `${startWidth + dx}px`;
        box.style.height = `${startHeight + dy}px`;
      });

      document.addEventListener('mouseup', () => {
        if (isResizing) {
          isResizing = false;
          // 恢復互動
          iframe.style.pointerEvents = 'auto';
          document.body.style.userSelect = 'auto';
        }
      });
    });
  </script>

</body>
</html>